<!DOCTYPE html>
<html>
 {% load staticfiles %}
<head>
    <meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Edit Workout</title>
	
    <!-- bootstrap -->
    <link href="{% static 'assets/css/bootstrap/bootstrap.css'%}" rel="stylesheet" />

    <!-- libraries -->
    <link href="{% static 'assets/css/libs/font-awesome.css'%}" type="text/css" rel="stylesheet" />

    <!-- global styles -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/compiled/layout.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/compiled/elements.css'%}">
	<link rel="stylesheet" href="{% static 'assets/css/libs/select2.css'%}" type="text/css" />
      <!-- google font libraries -->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,300|Titillium+Web:200,300,400' rel='stylesheet' type='text/css'>
    
  
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-49262924-1', 'phoonio.com');
	  ga('send', 'pageview');

	</script>
<style type="text/css">
	.modal-field {
	width:100%;
	}
	 .form-group-select2 label{
		display: inline-block;	
	}
</style>
</head>
<body>
	<header class="navbar" id="header-navbar">
		<div class="container">
			<a href="#" id="logo" class="navbar-brand col-md-3 col-sm-3 col-xs-12">
				<img style="width: 30px;margin-top: -5px;" src="{% static 'assets/img/trainmefit.png'%}" alt=""><span>TrainMeFit</span>
			</a>
			
			<button class="navbar-toggle" data-target=".navbar-ex1-collapse" data-toggle="collapse" type="button">
				<span class="sr-only">Toggle navigation</span>
				<span class="fa fa-bars"></span>
			</button>
			
			<div class="nav-no-collapse pull-right" id="header-nav">
				<ul class="nav navbar-nav pull-right">
					<!-- <li class="mobile-search">
						<a class="btn">
							<i class="fa fa-search"></i>
						</a>
						
						<div class="drowdown-search">
							<form role="search">
								<div class="form-group">
									<input type="text" class="form-control" placeholder="Search...">
									<i class="fa fa-search nav-search-icon"></i>
								</div>
							</form>
						</div>
						
					</li>
					<li class="dropdown hidden-xs">
						<a class="btn dropdown-toggle" data-toggle="dropdown">
							<i class="fa fa-warning"></i>
							<span class="count">8</span>
						</a>
						<ul class="dropdown-menu notifications-list">
							<li class="pointer">
								<div class="pointer-inner">
									<div class="arrow"></div>
									<div class="arrow-border"></div>
								</div>
							</li>
							<li class="item-header">You have 6 new notifications</li>
							<li class="item">
								<a href="#">
									<i class="fa fa-comment"></i>
									<span class="content">New comment on â€˜Awesome P...</span>
									<span class="time"><i class="fa fa-clock-o"></i>13 min.</span>
								</a>
							</li>
							<li class="item">
								<a href="#">
									<i class="fa fa-plus"></i>
									<span class="content">New user registration</span>
									<span class="time"><i class="fa fa-clock-o"></i>13 min.</span>
								</a>
							</li>
							<li class="item">
								<a href="#">
									<i class="fa fa-envelope"></i>
									<span class="content">New Message from George</span>
									<span class="time"><i class="fa fa-clock-o"></i>13 min.</span>
								</a>
							</li>
							<li class="item">
								<a href="#">
									<i class="fa fa-shopping-cart"></i>
									<span class="content">New purchase</span>
									<span class="time"><i class="fa fa-clock-o"></i>13 min.</span>
								</a>
							</li>
							<li class="item">
								<a href="#">
									<i class="fa fa-eye"></i>
									<span class="content">New order</span>
									<span class="time"><i class="fa fa-clock-o"></i>13 min.</span>
								</a>
							</li>
							<li class="item-footer">
								<a href="#">
									View all notifications
								</a>
							</li>
						</ul>
					</li>
					<li class="dropdown hidden-xs">
						<a class="btn dropdown-toggle" data-toggle="dropdown">
							<i class="fa fa-envelope-o"></i>
							<span class="count">16</span>
						</a>
						<ul class="dropdown-menu notifications-list messages-list">
							<li class="pointer">
								<div class="pointer-inner">
									<div class="arrow"></div>
									<div class="arrow-border"></div>
								</div>
							</li>
							<li class="item first-item">
								<a href="#">
									<img src="img/samples/messages-photo-1.png" alt=""/>
									<span class="content">
										<span class="content-headline">
											George Clooney
										</span>
										<span class="content-text">
											Look, just because I don't be givin' no man a foot massage don't make it 
											right for Marsellus to throw...
										</span>
									</span>
									<span class="time"><i class="fa fa-clock-o"></i>13 min.</span>
								</a>
							</li>
							<li class="item">
								<a href="#">
									<img src="img/samples/messages-photo-2.png" alt=""/>
									<span class="content">
										<span class="content-headline">
											Emma Watson
										</span>
										<span class="content-text">
											Look, just because I don't be givin' no man a foot massage don't make it 
											right for Marsellus to throw...
										</span>
									</span>
									<span class="time"><i class="fa fa-clock-o"></i>13 min.</span>
								</a>
							</li>
							<li class="item">
								<a href="#">
									<img src="img/samples/messages-photo-3.png" alt=""/>
									<span class="content">
										<span class="content-headline">
											Robert Downey Jr.
										</span>
										<span class="content-text">
											Look, just because I don't be givin' no man a foot massage don't make it 
											right for Marsellus to throw...
										</span>
									</span>
									<span class="time"><i class="fa fa-clock-o"></i>13 min.</span>
								</a>
							</li>
							<li class="item-footer">
								<a href="#">
									View all messages
								</a>
							</li>
						</ul>
					</li>
					<li class="hidden-xs">
						<a class="btn">
							<i class="fa fa-cog"></i>
						</a>
					</li> -->
					<li class="dropdown profile-dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<img src="img/samples/profile-photo.png" alt=""/>
							<span class="hidden-xs">{{ request.session.login_user }}</span> <b class="caret"></b>
						</a>
						<ul class="dropdown-menu">
							<li><a href="user-profile.html"><i class="fa fa-user"></i>Profile</a></li>
							<li><a href="#"><i class="fa fa-cog"></i>Settings</a></li>
							<li><a href="#"><i class="fa fa-envelope-o"></i>Messages</a></li>
							<li><a href="/sign-out-admin/"><i class="fa fa-power-off"></i>Logout</a></li>
						</ul>
					</li>
					<li class="hidden-xxs">
						<a href="/sign-out-admin/" class="btn">
							<i class="fa fa-power-off"></i>
						</a>
					</li>
				</ul>
			</div>
		</div>
	</header>
	<div class="container">
		<div class="row">
			<div class="col-md-2" id="nav-col">
				<section id="col-left">
					<div class="collapse navbar-collapse navbar-ex1-collapse" id="sidebar-nav">	
						<ul class="nav nav-pills nav-stacked">
							<li>
								<a href="/dashboard/">
									<i class="fa fa-dashboard"></i>
									<span>Dashboard</span>
								</a>
							</li>
							<li>
								<a href="/user-section/">
									<i class="fa fa-users"></i>
									<span>Customers</span>
									
								</a>								
							</li>
							<li>
								<a href="/program-list/">
									<i class="fa fa-calendar"></i>
									<span>Programs</span>
								</a>
							</li>
							<li>
								<a href="/workout/">
									<i class="fa fa-star-o"></i>
									<span>Workouts</span>
								</a>

							</li>
							<li>
								<a href="/exercise-list/" >
									<i class="fa fa-rocket"></i>
									<span>Exercises</span>
								</a>
							</li>
						<!-- 	<li>
								<a href="#">
									<i class="fa fa-gbp"></i>
									<span>Payments</span>
								</a>
							</li>
							<li>
								<a href="#">
									<i class="fa fa-gears"></i>
									<span>Services</span>
								</a>
							</li>
							<li>
								<a href="#">
									<i class="fa fa-table"></i>
									<span>Master Tables</span>
								</a>
							</li> -->
						</ul>
					</div>
				</section>
			</div>
			<div class="col-md-10" id="content-wrapper">
				<div class="row">
					<div class="col-lg-12">
					
						<div class="clearfix">
							<h1 class="pull-left">Workouts</h1>
						</div>
						
								<div class="main-box clearfix">
								 <form role="form"  name="editworkoutForm" action="/update-workout/" method="POST" onsubmit="return validateAndUpdateExerciseList()">
								<!-- {% csrf_token %} -->
								  <input type="hidden" value="{{ workout_id }}" id="workout_id" name="work_id" ></input> 
								  <input type="hidden" name="workout_exercise_list" id="workout_exercise_list"></input>
								  <input type="hidden" name="totalData" id="totalData" ></input>
								   <div class="row">
									<div class="clearfix">
										<h2 class="pull-left">Edit Workout</h2>
										
										<div class="filter-block pull-right">
											<a href="/workout/" class="btn btn-primary pull-right" style="width: 175px;">
												<i class="fa  fa-lg"></i>Cancel
											</a>	
											
						                <input type="submit" class="btn btn-primary pull-right" value="Save" style="width: 175px;"><i class="fa  fa-lg"></i> </input>
										</div>
									</div>
									</div>
										
									<div class="row">	
									  <div class="col-lg-6"> 
										  <div class="form-group">
											<label >Name</label>
											<input type="text" class="form-control" id="workout_id" name="workout_name" required="required" value="{{ workout_name }}" placeholder="" style="width: 100%;"></input>
											</div>
										  </div>
										  
										  	<div class="col-lg-3">
													<label>Workout Type</label>
													<select style="width:100%" name="wk_type" id="WKT_TYPE">
													{% if wk_type == "Normal" %}		
														<option value="Normal" selected="selected">Normal</option>
														<option value="Sample">Sample</option>	
														{% else %}	
														<option value="Normal" >Normal</option>
														<option value="Sample" selected="selected">Sample</option>	
														{% endif %}
													</select>	
												</div>
										  
										  	<div class="col-lg-3">													
													  <label>Workout Intensity</label>
											   		<select style="width:100%" name="wk_intensity" id="WKT_INTENSITY">
															{% if wk_intensity == "Easy" %}
															<option value="Easy" selected="selected">Easy</option>
															<option value="Medium">Medium</option>	
															<option value="Hard">Hard</option>	
															{% elif wk_intensity == "Medium" %}
															<option value="Easy" >Easy</option>
															<option value="Medium" selected="selected">Medium</option>	
															<option value="Hard">Hard</option>
															{% else %}
															<option value="Easy" >Easy</option>
															<option value="Medium" >Medium</option>	
															<option value="Hard" selected="selected">Hard</option>
															{% endif %}
														</select>
												</div>
										</div> 
										
									<div class="row">	
																						  
										    <div class="col-lg-3">
												  <div class="form-group">
													<label >No of Exercises</label>
													<input type="number" readonly class="form-control" min="0" max="12" step="1" id="no_exercises" value="{{ number_of_exercises }}"
													name="number_of_exercises" required="required" placeholder="" ></input>
													</div>
										   </div>	
										   
										  <div class="col-lg-3">
											<div class="form-group">
												<label >Time</label>
												<input type="text" readonly class="form-control" id="workout_total_time" pattern="([01]?[0-9]{1}|2[0-3]{1}):[0-5]{1}[0-9]{1}:[0-5]{1}[0-9]{1}" required="required" placeholder="HH:MM:SS" name="approximate_workout_time" value ="{{ approximate_workout_time }}"  ></input>
											</div>									
										</div>							  
										  																												
									<div class="col-lg-3">											   
										<label >Workout Status</label>													
											<select style="width:100%" name="status_dropdown" id="STATUS">
												<option value="{{status}}" selected>{{status}}</option>
							    				<option value="Active">Active</option>
							    				<option value="Inactive">Inactive</option>		
											</select>
									 </div>				  
										</div> 					
									
									
										<div class="form-group form-group-select2">
			                         <div class="row">	
										<div class="col-lg-3"> 
										  <div class="form-group">
											<label >Created By</label>
											<input type="text" class="form-control" id="created_id" readonly name="created_name" required="required" value="{{ created_name }}" pattern="[a-zA-Z\s]+" placeholder="" style="width: 100%;"></input>
											</div>
										  </div>
										  
										  <div class="col-lg-3">
												  <div class="form-group">
													<label >Created Date</label>
													<input type="text" class="form-control" readonly  id="created_date" required="required"  name="created_date" value="{{ created_date }}"  ></input>
													</div>							
										</div>
										
										 <div class="col-lg-3"> 
										  <div class="form-group">
											<label >Updated By</label>
											<input type="text" class="form-control" id="updated_by" readonly name="updated_by" required="required" value="{{ updated_by }}" pattern="[a-zA-Z0-9\s]+" placeholder="" style="width: 100%;"></input>
											</div>
										  </div>				                         
			                         
			                         	 <div class="col-lg-3">
												  <div class="form-group">
													<label >Updated Date</label>
													<input type="text" class="form-control" readonly  id="updated_date"   name="updated_date" value="{{ updated_date }}"  ></input>
													</div>							
												</div>  
			                        </div>
			                         
			                         	<div class="row">
			                             <div class="col-lg-3">
													  <label>Exercise Category</label><label id="lbl_exercise_category" style="color:white">&nbsp *Select Objective</label>
													  
														<select style="width:100%" name="exercise_category"  id="exercise_category">
															<option value='Empty' disabled selected>---Select Objective---</option>
															{% for category in category_list %}	
																	
																	<option value="{{ category.category_id }}"> {{ category.category_name }}</option>
															{% endfor %}	
														</select>
													</div>
			                            
			                             <div class="col-lg-3">
														<label>Body Part</label><label id="lbl_bodypart" style="color:white">&nbsp *Select Body Part</label>
														<select style="width:100%" name="exercise_bodypart" id="bodypart">
														<option value='Empty' disabled selected>---Select Body Part---</option>
															{% for bodypart in bodypart_list %}
																<option value="{{ bodypart.bodypart_id}}">{{ bodypart.bodypart_name }}</option>
															{% endfor %}
														</select>
													</div>	
													
													<div class="col-lg-3">
													  <label>Exercise Intensity</label><label id="lbl_EXE_INTENSITY" style="color:white">&nbsp *Select Intensity</label>
											   		<select style="width:100%" name="intensity" id="EXE_INTENSITY">
											   			<option value='Empty' disabled selected>---Select Exercise Intensity---</option>
															<option value="Easy">Easy</option>
															<option value="Medium">Medium</option>	
															<option value="Hard">Hard</option>	
														</select>
												</div>
													
												<div class="col-lg-3">
														<label> Gender</label><label id="lbl_exercise_gender" style="color:white">&nbsp *Select Gender</label>
														<select style="width:100%" name="exercise_gender" id="exercise_gender">
															<option value='Empty' disabled selected>---Select Gender---</option>
															<option value="Male">Male</option>
															<option value="Female">Female</option>		
														</select>	
													</div>
													</div>	
												</div>	
													
											<div class="form-group form-group-select2">
			                         <div class="row">
													<div class="col-lg-3">
													  <label>Exercise</label><label id="lbl_exercise" style="color:white">&nbsp *Select Exercise </label>
														<select style="width:100%" id="exercise"  name="exercises">
														<option value='Empty' disabled selected>---Select Exercise---</option>
														</select>
													</div>
													
													<div class="col-lg-3">
													  <label>Exercise Time</label>
													<input type="text" readonly class="form-control" id= "exercise_time_vl" pattern="([01]?[0-9]{1}|2[0-3]{1}):[0-5]{1}[0-9]{1}:[0-5]{1}[0-9]{1}" required="required" placeholder="HH:MM:SS" name="" value ="{{ ex_tot_ex_tim|time:"HH:MM:SS" }}" ></input>	
													</div>
													
													<div class="col-lg-2">	
												 		<select style="width:100%; display:none " name="exercise_time" id="exercise_time_id_dropdwn" >	</select>
													</div>
													</div>
										    </div>
										    
										    
										  <div class="form-group form-group-select2">
			                         <div class="row">
			                             <div class="col-lg-3">
													 <label>Total No of Reps</label><label id="lbl_reps" style="color:white">&nbsp *Select Total No of Reps </label>
													<input type="number" class="form-control" id="reps" min="1" max="12" step="1" name="reps" placeholder="" ></input>
													</div>
			                            
			                            <div class="col-lg-3">
													  <label>Total No of Sets</label><label id="lbl_sets" style="color:white">&nbsp *Select Total No of Sets </label>
													<input type="number" class="form-control" id="sets" min="1" max="12" step="1" name="" placeholder="" ></input>	
													</div>
													
													<div class="col-lg-3">
													  <label>Time between Sets</label><label id="lbl_setTime" style="color:white">&nbsp *Enter Time </label>
													<input type="text" class="form-control" id="setTime" pattern="([01]?[0-9]{1}|2[0-3]{1}):[0-5]{1}[0-9]{1}:[0-5]{1}[0-9]{1}"  placeholder="HH:MM:SS" name="final_workout_time" value ="{{ value|time:"HH:MM:SS" }}" ></input>	
													</div>
													
																					
													<div class="col-lg-2">
													  <label>Rest Time</label><label id="lbl_restTime" style="color:white">&nbsp *Enter Time </label>
													<input type="text" class="form-control" id="restTime"  pattern="([01]?[0-9]{1}|2[0-3]{1}):[0-5]{1}[0-9]{1}:[0-5]{1}[0-9]{1}" placeholder="HH:MM:SS" name="" value ="{{ value|time:"HH:MM:SS" }}" 
													></input>	
													</div>

			                            
													
													<div class="col-lg-1" >
														   <label>&nbsp;</label><br/>
															<div id="btnAddExercise" class="btn btn-success">Add</div>
													</div>
													</div>
										    </div>    
										
										<div class="table-responsive">
										<table class="table" id="exercise_table">
											<thead>
												<tr>
												<th style="display:none" ><span>exercise_id </span></th>
													<th ><span>Exercise Name</span></th>
													<th ><span>Gender</span></th>
													<th ><span>Bodypart</span></th>
													<th ><span>Total Reps</span></th>
													<th ><span>Total Sets</span></th>
													<th ><span>Time Between Sets </span></th>
													<th ><span>Rest Time</span></th>
													<th ><span>Total Exercise Time</span></th>
													<th><span>Delete</span></th>
												</tr>
											</thead>
											<tbody>
													{% for ex in ex_list  %}
													<tr>
														 <td style="display:none"> {{ ex.ex_id }} </td>	
														 <td> {{ ex.ex_name }} </td>	
														 <td> {{ ex.ex_gender }} </td>
														 <td> {{ ex.ex_bodypart }} </td>
														 <td> {{ ex.ex_tot_rep }} </td>
														 <td> {{ ex.ex_tot_set }} </td>
														 <td> {{ ex.ex_tim_bet_set }} </td>
														 <td> {{ ex.ex_res_tim }} </td>
														 <td> {{ ex.ex_tot_ex_tim }} </td>
														 <td> 				 		
														 		
														<a class="delete table-link danger" data-toggle="modal" data-target="#myModal" style="cursor: pointer;"  id="{{ ex.ex_work_id }}">
															<span class="fa-stack">
																<i class="fa fa-square fa-stack-2x"></i>
																<i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
															</span>
														</a>														
														 
														</td>
													</tr>	
													{% endfor %}										
											</tbody>
										</table>
									</div>
									</form>	
									</div>		
									</div>
								</div>
							</div>
						</div>
					
					</div>

<!-- code for alert message Are you want to delete -->
	<div class="row">
	<div class="col-lg-8">				
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        
        <div class="row">
        		<div class="col-lg-12">
        		<div class="main-box" style="min-height: auto;">
				<h2>Delete</h2>
					<div class="row">
					<div class="col-lg-12">
									<form class="form-inline" role="form">
										<div class="form-group">
										Workout will get deleted permanently. Do you want to delete it ?	
									</div>
									</form>	
					</div>				
				</div>													
				</div>
				</div>	
				</div>
          </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" >No</button>
        <button type="button" id="succeessbtn" onclick="confirm_delete()" data-dismiss="modal" class="btn btn-primary ">Yes</button>
      </div>
    </div>
  </div>
</div>
</div>					
</div>


			
			
	<footer id="footer-bar">
	<p id="footer-copyright">
			&copy; 2015-16 <a href="http://www.trainmefit.co.uk/" target="_blank">TrainMeFit</a>
		</p>
	</footer>
	
	<!-- global scripts -->
	<script src="{% static 'assets/js/jquery.js'%}"></script>
	<script src="{% static 'assets/js/bootstrap.js'%}"></script>
	
	<!-- this page specific scripts -->
	<script src="{% static 'assets/js/bootstrap-wizard.js'%}"></script>
	<script src="{% static 'assets/js/select2.min.js'%}"></script>
		
	<!-- theme scripts -->
	<script src="{% static 'assets/js/scripts.js'%}"></script>
	<script src="{% static 'assets/js/jquery.tabletojson.min.js'%}"></script>
  
   
	
<script type="text/javascript" language="javascript">
			var tr;
			$('.delete').click(function(){		
		      tr = this;
		  });
		
$(function($) {
		//tooltip init
		$('#exampleTooltip').tooltip();

		//nice select boxes
		$('#sel2').select2();
		$('#bodypart').select2();
		$('#exercise_gender').select2();
		$('#exercise_category').select2();
		$('#exercise').select2();
		$('#STATUS').select2();
		$('#WKT_TYPE').select2();
		$('#WKT_INTENSITY').select2();
		$('#EXE_INTENSITY').select2();
		
		$('#sel2Multi').select2({
			placeholder: 'Select a Country',
			allowClear: true
		});
		/*-------------------GET Exercise---------------------*/
		get_exercise();
		});

var workout_time_vl='00:00:00';
//------------------$(document).ready(function() {--------------------

	var exercise_id_array =[];
      $("#exercise_gender").change(function(event){
      	get_exercise();						
		 });
		 
		  $("#bodypart").change(function(event){
      	get_exercise();						
		 });
		 
		 $("#EXE_INTENSITY").change(function(event){
      	get_exercise();						
		 });
		 
		 $("#exercise_category").change(function(event){
      	get_exercise();						
		 });
		 
		 
 function get_exercise(){
		      $.ajax({
				   type	: 'GET',
			      url	: '/get-exercises-by-bodypart/',
			      data  : {'body_part_id':$('#bodypart').val(),'exercise_category':$('#exercise_category').val(),'exercise_gender':$('#exercise_gender').val(),'intensity':$('#EXE_INTENSITY').val() },
			      success: function(response){
				      // console.log(response);
				      $('#exercise').html('');
				      $('#exercise_time_id_dropdwn').html('');
				      
				      $('#exercise').append('<option value="Empty"  disabled selected>---Select Exercise--- </option>');
				   $('#exercise_time_id_dropdwn').append('<option value="Empty"  disabled selected>"---Select Time---" </option>');
				      
				      $.each(response.exercise_list, function(index, item) {
				      		$('#exercise').append('<option value="' +item.exercise_id + '">'+item.exercise_name+'</option>');
								$('#exercise_time_id_dropdwn').append('<option value="' +item.exercise_id + '">'+item.exercise_time+'</option>');
				      		
								console.log(index +' -- ' +item.exercise_id + '--' + item.exercise_name);
						});
					},
					error: function(response){
						console.log("Error"+response);
					}
					
				});	
		 
 }
$('#exercise').click(function(){
	$('#exercise_time_id_dropdwn').val($('#exercise option:selected').val());
	$('#exercise_time_vl').val($("#exercise_time_id_dropdwn option:selected").text().trim());	
});

		 $("#btnAddExercise").click(function()  {
				
	 		var clean_ex_time=$("#exercise_time_vl").val().split(":");
			var clean_setbetween_time=$("#setTime").val().split(":");
			var total_sets= $("#sets").val();
			
			var hr=(parseInt(clean_ex_time[0])*total_sets)+(parseInt(clean_setbetween_time[0])*(total_sets-1));
			var mint=(parseInt(clean_ex_time[1])*total_sets)+(parseInt(clean_setbetween_time[1])*(total_sets-1));
			var sec=(parseInt(clean_ex_time[2])*total_sets)+(parseInt(clean_setbetween_time[2])*(total_sets-1));
			
			var sec_remainder=0;
			var sec_result=0;
			var mint_remainder=0;
			var mint_result=0;
			
			if(sec>60){
			sec_remainder=sec%60;
			sec_result=(sec-sec_remainder)/60;	
			sec=sec_remainder;	
			mint=mint+sec_result;	
			}
			
			if(mint>60){
			mint_remainder=mint%60;
			mint_result=(mint-mint_remainder)/60;
			mint=mint_remainder;
			hr=hr+mint_result;			
			}
			
			
			hr=hr.toString();
			mint=mint.toString();
			sec=sec.toString();
			
			if(hr.length<2)
			hr='0'+hr;			
			
			if(mint.length<2)
			mint='0'+mint;
			
			if(sec.length<2)
			sec='0'+sec;
			
			
			var final_time=hr+":"+mint+":"+sec;	
				
					if($('#exercise_category option:selected').val()==="Empty"){ 		 
	        			 $('#lbl_exercise_category').css("color", "red");	
					}else{
						$('#lbl_exercise_category').css("color", "white"); 
    				}

			
					if($('#bodypart option:selected').val()==="Empty"){ 		 
	        			 $('#lbl_bodypart').css("color", "red");	
					}else{
						$('#lbl_bodypart').css("color", "white"); 
    				}
					
					
					if($('#exercise_gender option:selected').val()==="Empty"){ 		 
	        			 $('#lbl_exercise_gender').css("color", "red");	
					}else{
						$('#lbl_exercise_gender').css("color", "white"); 
    				}


					if($('#EXE_INTENSITY option:selected').val()==="Empty"){ 		 
	        			 $('#lbl_EXE_INTENSITY').css("color", "red");	
					}else{
						$('#lbl_EXE_INTENSITY').css("color", "white"); 
    				}
    				
    				
    				if($('#exercise option:selected').val()==="Empty"||$('#exercise option:selected').text()===""){ 		 
	        			 $('#lbl_exercise').css("color", "red");	
					}else{
						$('#lbl_exercise').css("color", "white"); 
    				}
    					
    					
    				if($('#reps').val()===""){ 	 
	               $('#lbl_reps').text("*Enter Reps");	      
	               $('#lbl_reps').css("padding-left", "10px");              		 
	        			$('#lbl_reps').css("color", "red");	
					 }else{
						$('#lbl_reps').css("color", "white"); 
    				}
	            
	            
	             if($('#sets').val()=== ""){ 		 
                  $('#lbl_sets').text("*Enter Sets.");	      
	               $('#lbl_sets').css("padding-left", "10px");
	        	      $('#lbl_sets').css("color", "red");	
					}else{
						$('#lbl_sets').css("color", "white"); 
    				}
	                      
/*------------------------------------------------------------------------------*/
               /* var reps = $("#reps");
	               if (reps.val()== "00" || reps.val()== "0" ) {
	               alert("Repeatation should not be zero!");
	                return false;
	             }*/	   
	             
	          /*  var setTime = $('#setTime');
	            if (setTime.val()== "0" || setTime.val()== "00:00:00") {
	                alert("Time should not be zero!");
	                return false;
	            }*/         
	            
             /* var setTime = $('#restTime');
	            if (setTime.val()== "00" || setTime.val()== "00:00:00") {
	                alert("Please select valid Rest Time!");
	                return false;
	            }*/	
	          
/*------------------------------------------------------------------------------*/

               var sets = $('#sets');
	            if (sets.val()== "00" || sets.val()=="0") {
	                alert("Sets should not be zero!");
	                return false;
	            }
	            
	           if($('#setTime').val()===""){ 	
	                   $('#lbl_setTime').text("*Enter Time.");     
        					 $('#lbl_setTime').css("color", "red");	
                      $('#lbl_setTime').css("padding-left", "10px");
					}else{
						$('#lbl_setTime').css("color", "white"); 
    				}   
	            
	            if($('#restTime ').val()===""){ 
	                  $('#lbl_restTime').text("*Enter Time.");     
        					 $('#lbl_restTime').css("color", "red");	
                      $('#lbl_restTime').css("padding-left", "10px");
					}else{
						$('#lbl_restTime').css("color", "white"); 
    				} 
	              
				 
	            
           		if($('#exercise_category option:selected').val()==="Empty" || $('#bodypart option:selected').val()==="Empty"       || 
           		   $('#exercise_gender option:selected').val()==="Empty"  || $('#EXE_INTENSITY option:selected').val()==="Empty" ||
           		   $('#exercise option:selected').val()==="Empty"			  || $('#reps ').val()===""	                            ||
           		   $('#sets ').val()=== ""										  || $('#setTime ').val()===""									 ||
           		   $('#restTime ').val()===""	||$('#exercise option:selected').text()==="")
           		     		
           		{ 
		           return false;   
    	        }	
					
					var reps= $('#reps').val();
				  if (reps >=100){
							alert ("Please add less than 100");
							return false;				  
				  }        
	          
				  var sets= $('#sets').val();
				  if (sets >=100){
							alert ("Please add less than 100");
							return false;				  
				  } 
				  
				  
				  if (!($('#setTime').val().match("([01]?[0-9]{1}|2[0-3]{1}):[0-5]{1}[0-9]{1}:[0-5]{1}[0-9]{1}"))) {
            alert('Set Time is Not in format.')
            return false;
        }
        
         if (!($('#restTime').val().match("([01]?[0-9]{1}|2[0-3]{1}):[0-5]{1}[0-9]{1}:[0-5]{1}[0-9]{1}"))) {
            alert('Rest Time is Not in format.')
            return false;
        }


      var time_validation=add_time(final_time,$("#workout_total_time").val());
                  var check_time=time_validation.split(":");								
                  if((parseInt(check_time[0])>0)||(parseInt(check_time[1])>45)){
                    alert('Workout Time can not be greater then 00:45:00 mint');
				        return false;
                  }

	            // return true;
			$.ajax({
				   type	: 'GET',
			       url	: '/check-exist-exercise/',
			      data  : {'workout_id':$('#workout_id').val(),'exercise_id':$('#exercise').val()},
			      success: function(response)

				      {
				      	// alert(response.status);
							if(response.status=='success')
							{
			 						alert('Exercise is already added');
							}
							else
							{
							exercise_id_array.push($('#exercise').val());
								$("#exercise_table").append(
									"<tr>"+						
						       	'<td style="display:none">'+$("#exercise option:selected").val()+ "</td>"+
									'<td class="text-left">'+$("#exercise option:selected").text()+ "</td>"+
									'<td class="text-left">'+ $('#exercise_gender').val()+"</td>"+
									'<td class="text-left">'+ $('#bodypart option:selected').text()+"</td>"+
									'<td class="text-left">'+ $('#reps').val()+"</td>"+
									'<td class="text-left">'+ $('#sets').val()+"</td>"+
									'<td class="text-left">'+ $('#setTime').val()+"</td>"+
									'<td class="text-left">'+ $('#restTime').val()+"</td>"+
									'<td class="text-left">'+ final_time +"</td>"+
									'<td> <a id="b1" class="delete table-link danger deleterow" style="cursor: pointer;" data-toggle="modal" data-target="#myModal" ><span class="fa-stack"><i class="fa fa-square fa-stack-2x"></i>' +
											'<i class="fa fa-trash-o fa-stack-1x fa-inverse" onclick="myFunction($(this))"></i> </span></a>'+ '</td>'+'</tr>'

								);
								save_exersize();	
								$("#no_exercises").val($('#exercise_table tr').length-1);
								workout_time_vl=add_time(final_time,$("#workout_total_time").val());
								$("#workout_total_time").val(workout_time_vl);
								location.reload();
                        location.reload();
							}
						}	
						
				});
			});

//------------------------});	

//------------------- Key Press Event----------------------------------

$('#reps').keypress(function(e) {
    var a = [];
    var k = e.which;
    for (i = 48; i < 58; i++){
        a.push(i);}
        a.push(8);
		  a.push(0);
		  a.push(13);
    
    if (!(a.indexOf(k)>=0)){   
        $('#lbl_reps').text("*Invalid Key.");     
        $('#lbl_reps').css("color", "red");	
        $('#lbl_reps').css("padding-left", "10px");	
        e.preventDefault();
        }else{ 
         $('#lbl_reps').text("*Enter Reps.");              
			$('#lbl_reps').css("color", "white");        
        }
        
});

$('#sets').keypress(function(e) {
    var a = [];
    var k = e.which;
    for (i = 48; i < 58; i++){
        a.push(i);}
        a.push(8);
		  a.push(0);
		  a.push(13);
    
    if (!(a.indexOf(k)>=0)){   
        $('#lbl_sets').text("*Invalid Key.");     
        $('#lbl_sets').css("color", "red");	
        $('#lbl_sets').css("padding-left", "10px");	
        e.preventDefault();
        }else{ 
         $('#lbl_sets').css("padding-left", "10px");	
         $('#lbl_sets').text("*Enter Sets.");              
			$('#lbl_sets').css("color", "white");        
        }
        
});

//------------------- Key Press Event----------------------------------


	function confirm_delete(){
			
			workout_time_final=substract_time($("#workout_total_time").val(),$(tr).closest('tr').children('td:eq(8)').text());
			$("#workout_total_time").val(workout_time_final);
			$(tr).parents('tr').remove();
			$("#no_exercises").val($('#exercise_table tr').length-1);  
			// alert(workout_time_final);
		    $("#workout_total_time").val(workout_time_final);   
			$.ajax({
				   type	: 'GET',
			       url	: '/delete-exercise-from-workout/',
			       data  : {'deleteWorkoutExercise_id': tr.id },
			      success: function(response){			    
			      	if(response.success == 'true'){
						  $(tr).parents('tr').remove();
						}
					},
			}); 
		
		}	

	function save_exersize()
		{
			
		 	 var table = $('#exercise_table').tableToJSON();
			 var tot_data= (JSON.stringify(table));
			 $('#totalData').val(tot_data);
			 
	      $.ajax({
				   type	: 'POST',
			       url	: '/edit-workout-exercise/',
			       data  : {
			      	'workout_id':$('#workout_id').val(),
			      	'exercise_id':$('#exercise').val(),
			      	'totalData':$('#totalData').val()
			               },
			       success: function(response)
			       {
			      	   //alert("Saved SuccessFully");
				     
					},					
					
				});
	       return true;
    	}




	function validateAndUpdateExerciseList()
		{
			 
			 if($.trim($('#workout_id').val()) == ''){
			      alert('Workout name can not be blank !');
			      return false;
			   }	
			   
			  if($.isNumeric( $('#workout_name').val() )){
				alert('Workout name can not be only number!');
      		return false;
				}
    	}


		function myFunction(row) {   

		    		  	workout_time_final=substract_time($("#workout_total_time").val(),row.closest('tr').children('td:eq(7)').text());
		    		  	$("#workout_total_time").val(workout_time_final);    			
		    			// document.getElementById("workout_total_time").value=workout_time_vl;
						// exercise_id_array.splice($.inArray(row.closest('tr').children('td:first').text(),exercise_id_array) ,1 );			  
					   row.closest('tr').remove();    
					  document.getElementById("no_exercises").value=$('#exercise_table tr').length-1;
		    }



    
    
    function add_time(first_time,second_time){
          if(second_time=="NaN:NaN:NaN"){
          second_time="00:00:00";}
  			// alert(first_time+' '+second_time); 
  			
    		var clean_time1=first_time.split(":");
			var clean_time2=second_time.split(":");
	    	var hr=parseInt(clean_time1[0])+parseInt(clean_time2[0]);
			var mint=parseInt(clean_time1[1])+parseInt(clean_time2[1]);
			var sec=parseInt(clean_time1[2])+parseInt(clean_time2[2]);
			
			console.log(clean_time1)	
			console.log(clean_time2)	
			console.log(hr)	
			console.log(mint)	
			console.log(sec)	
	
			var sec_remainder=0;
			var sec_result=0;
			var mint_remainder=0;
			var mint_result=0;
			
			if(sec>60){
			sec_remainder=sec%60;
			sec_result=(sec-sec_remainder)/60;	
			sec=sec_remainder;	
			mint=mint+sec_result;	
			}
			
			if(mint>60){
			mint_remainder=mint%60;
			mint_result=(mint-mint_remainder)/60;
			mint=mint_remainder;
			hr=hr+mint_result;			
			}		
			
			
			hr=hr.toString();
			mint=mint.toString();
			sec=sec.toString();
			
			if(hr.length<2)
			hr='0'+hr;			
			
			if(mint.length<2)
			mint='0'+mint;
			
			if(sec.length<2)
			sec='0'+sec;			
			
		console.log(hr)	
		console.log(mint)	
		console.log(sec)			
			
			var final_time=hr+":"+mint+":"+sec;	
			
			console.log(final_time);
			return final_time;			
			}

	function substract_time(first_time,second_time){
		// alert("subtract");
  			
  			//alert(+" 1 "+first_time+" 2 "+second_time);
  			if(first_time=="00:00:00"){  
  			return "00:00:00";  			
  			} 			
  	
  			
    		var clean_time1=first_time.split(":");
			var clean_time2=second_time.split(":");
	    	var hr=parseInt(clean_time1[0])-parseInt(clean_time2[0]);
			var mint=parseInt(clean_time1[1])-parseInt(clean_time2[1]);
			var sec=parseInt(clean_time1[2])-parseInt(clean_time2[2]);
			
			console.log(clean_time1);	
			console.log(clean_time2);	
			console.log(hr);	
			console.log(mint);	
			console.log(sec);	
	
			var sec_remainder=0;
			var sec_result=0;
			var mint_remainder=0;
			var mint_result=0;
			
			
			if(mint<0){
			hr=hr-1;
			mint=60+mint;				
			}				
			
		if(sec<0){
			mint=mint-1;
			sec=60+sec;	
			}			
			
			if(sec>60){
			sec_remainder=sec%60;
			sec_result=(sec-sec_remainder)/60;	
			sec=sec_remainder;	
			mint=mint+sec_result;	
			}
			
			if(mint>60){
			mint_remainder=mint%60;
			mint_result=(mint-mint_remainder)/60;
			mint=mint_remainder;
			hr=hr+mint_result;			
			}		
				
			
			
			hr=hr.toString();
			mint=mint.toString();
			sec=sec.toString();
			
			if(hr.length<2)
			hr='0'+hr;			
			
			if(mint.length<2)
			mint='0'+mint;
			
			if(sec.length<2)
			sec='0'+sec;			
			
		console.log(hr)	
		console.log(mint)	
		console.log(sec)			
			
			var final_time=hr+":"+mint+":"+sec;	
			
			console.log(final_time);
			// alert(final_time);
			return final_time;			
			}	

	// });			

	
</script>

</body>
</html>